{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/iKlejdi/Desktop/construction/frontend/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport axios from \"axios\";\nimport { useAuth } from \"../../context/AuthContext\";\n\nexport default function LoginPage() {\n  const [form, setForm] = useState({ email: \"\", password: \"\" });\n  const [error, setError] = useState<string | null>(null);\n  const router = useRouter();\n  const { login } = useAuth();\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const res = await axios.post(\"http://localhost:4000/auth/login\", form);\n      await login(res.data.token); // save token + fetch user\n      router.push(\"/employees\"); // redirect after login\n    } catch (err) {\n      setError(\"Invalid email or password\");\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <h2>Login</h2>\n      <form onSubmit={handleSubmit} className=\"mt-3\">\n        <div className=\"mb-3\">\n          <label>Email</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={form.email}\n            onChange={handleChange}\n            className=\"form-control\"\n            required\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label>Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={form.password}\n            onChange={handleChange}\n            className=\"form-control\"\n            required\n          />\n        </div>\n        {error && <p className=\"text-danger\">{error}</p>}\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Login\n        </button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;QAAE,OAAO;QAAI,UAAU;IAAG;IAC3D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,yIAAO;IAEzB,MAAM,eAAe,CAAC;QACpB,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACrD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,MAAM,MAAM,gJAAK,CAAC,IAAI,CAAC,oCAAoC;YACjE,MAAM,MAAM,IAAI,IAAI,CAAC,KAAK,GAAG,0BAA0B;YACvD,OAAO,IAAI,CAAC,eAAe,uBAAuB;QACpD,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCACC,MAAK;gCACL,MAAK;gCACL,OAAO,KAAK,KAAK;gCACjB,UAAU;gCACV,WAAU;gCACV,QAAQ;;;;;;;;;;;;kCAGZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;0CAAM;;;;;;0CACP,8OAAC;gCACC,MAAK;gCACL,MAAK;gCACL,OAAO,KAAK,QAAQ;gCACpB,UAAU;gCACV,WAAU;gCACV,QAAQ;;;;;;;;;;;;oBAGX,uBAAS,8OAAC;wBAAE,WAAU;kCAAe;;;;;;kCACtC,8OAAC;wBAAO,MAAK;wBAAS,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;AAM1D","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/iKlejdi/Desktop/construction/frontend/src/services/api.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: \"http://localhost:4000\", // backend base URL\n});\n\napi.interceptors.request.use((config) => {\n\tconst token = localStorage.getItem(\"token\");\n\tif (token && config.headers) {\n\t\tconfig.headers.Authorization = `Bearer ${token}`;\n\t}\n\treturn config;\n});\n\nexport default api;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACxB,SAAS;AACV;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC7B,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,SAAS,OAAO,OAAO,EAAE;QAC5B,OAAO,OAAO,CAAC,aAAa,GAAG,AAAC,UAAe,OAAN;IAC1C;IACA,OAAO;AACR;uCAEe","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/iKlejdi/Desktop/construction/frontend/src/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport api from \"@/services/api\";\n\ninterface User {\n\tid: number;\n\tname: string;\n\temail: string;\n}\n\ninterface AuthContextType {\n\ttoken: string | null;\n\tuser: User | null;\n\tlogin: (token: string) => Promise<void>;\n\tlogout: () => void;\n\tloading: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n\ttoken: null,\n\tuser: null,\n\tlogin: async () => {},\n\tlogout: () => {},\n\tloading: true,\n});\n\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n\tconst [token, setToken] = useState<string | null>(null);\n\tconst [user, setUser] = useState<User | null>(null);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tconst storedToken = localStorage.getItem(\"token\");\n\t\tif (storedToken) {\n\t\t\tsetToken(storedToken);\n\t\t\tfetchUser(storedToken).finally(() => setLoading(false));\n\t\t} else {\n\t\t\tsetLoading(false);\n\t\t}\n\t}, []);\n\n\tconst fetchUser = async (jwt: string) => {\n\t\ttry {\n\t\t\tconst res = await api.get(\"http://localhost:4000/api/me\");\n\t\t\tsetUser(res.data);\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Failed to fetch user:\", err);\n\t\t\tlogout();\n\t\t}\n\t};\n\n\tconst login = async (newToken: string) => {\n\t\tlocalStorage.setItem(\"token\", newToken);\n\t\tsetToken(newToken);\n\t\tawait fetchUser(newToken);\n\t};\n\n\tconst logout = () => {\n\t\tlocalStorage.removeItem(\"token\");\n\t\tsetToken(null);\n\t\tsetUser(null);\n\t\twindow.location.href = \"/login\";\n\t};\n\n\treturn (\n\t\t<AuthContext.Provider value={{ token, user, login, logout, loading }}>\n\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport const useAuth = () => useContext(AuthContext);\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;AAFA;;;AAkBA,MAAM,4BAAc,IAAA,8KAAa,EAAkB;IAClD,OAAO;IACP,MAAM;IACN,OAAO,WAAa;IACpB,QAAQ,KAAO;IACf,SAAS;AACV;AAEO,MAAM,eAAe;QAAC,EAAE,QAAQ,EAAiC;;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACT,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,IAAI,aAAa;gBAChB,SAAS;gBACT,UAAU,aAAa,OAAO;8CAAC,IAAM,WAAW;;YACjD,OAAO;gBACN,WAAW;YACZ;QACD;iCAAG,EAAE;IAEL,MAAM,YAAY,OAAO;QACxB,IAAI;YACH,MAAM,MAAM,MAAM,oIAAG,CAAC,GAAG,CAAC;YAC1B,QAAQ,IAAI,IAAI;QACjB,EAAE,OAAO,KAAK;YACb,QAAQ,KAAK,CAAC,yBAAyB;YACvC;QACD;IACD;IAEA,MAAM,QAAQ,OAAO;QACpB,aAAa,OAAO,CAAC,SAAS;QAC9B,SAAS;QACT,MAAM,UAAU;IACjB;IAEA,MAAM,SAAS;QACd,aAAa,UAAU,CAAC;QACxB,SAAS;QACT,QAAQ;QACR,OAAO,QAAQ,CAAC,IAAI,GAAG;IACxB;IAEA,qBACC,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAM;YAAO;YAAQ;QAAQ;kBAClE;;;;;;AAGH;GA3Ca;KAAA;AA6CN,MAAM,UAAU;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAW;IAAtC","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/iKlejdi/Desktop/construction/frontend/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { useState, useEffect } from \"react\";\n\nexport default function Navbar() {\nconst { user, logout } = useAuth();\nconst [mounted, setMounted] = useState(false);\n\nuseEffect(() => {\n\tsetMounted(true);\n}, []);\n\nif (!mounted) {\n\treturn <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark px-3\" />;\n}\n\nreturn (\n\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark px-3\">\n\t\t{/* Brand */}\n\t\t<Link href=\"/\" className=\"navbar-brand\">\n\t\t\tConstruction App\n\t\t</Link>\n\n\t\t{/* Toggler for mobile */}\n\t\t<button\n\t\t\tclassName=\"navbar-toggler\"\n\t\t\ttype=\"button\"\n\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\tdata-bs-target=\"#navbarContent\"\n\t\t\taria-controls=\"navbarContent\"\n\t\t\taria-expanded=\"false\"\n\t\t\taria-label=\"Toggle navigation\"\n\t\t>\n\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t</button>\n\n\t\t{/* Collapsible content */}\n\t\t<div className=\"collapse navbar-collapse\" id=\"navbarContent\">\n\t\t\t<ul className=\"navbar-nav me-auto\">\n\t\t\t{user && (\n\t\t\t\t<>\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link href=\"/employees\" className=\"nav-link\">\n\t\t\t\t\tEmployees\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link href=\"/projects\" className=\"nav-link\">\n\t\t\t\t\tProjects\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<Link href=\"/invoices\" className=\"nav-link\">\n\t\t\t\t\tInvoices\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t</ul>\n\n\t\t\t<ul className=\"navbar-nav ms-auto\">\n\t\t\t{user ? (\n\t\t\t\t<li className=\"nav-item dropdown\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-outline-light dropdown-toggle\"\n\t\t\t\t\tid=\"userDropdown\"\n\t\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t>\n\t\t\t\t\t{user.name}\n\t\t\t\t</button>\n\t\t\t\t<ul className=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"userDropdown\">\n\t\t\t\t\t<li>\n\t\t\t\t\t<Link className=\"dropdown-item\" href=\"/settings\">\n\t\t\t\t\t\tSettings\n\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t<button className=\"dropdown-item text-danger\" onClick={logout}>\n\t\t\t\t\t\tLogout\n\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t) : (\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t<Link href=\"/login\" className=\"btn btn-outline-primary\">\n\t\t\t\t\tLogin\n\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t</nav>\n);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACxB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,4IAAO;IAChC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;4BAAC;YACT,WAAW;QACZ;2BAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACb,qBAAO,6LAAC;YAAI,WAAU;;;;;;IACvB;IAEA,qBACC,6LAAC;QAAI,WAAU;;0BAEd,6LAAC,0KAAI;gBAAC,MAAK;gBAAI,WAAU;0BAAe;;;;;;0BAKxC,6LAAC;gBACA,WAAU;gBACV,MAAK;gBACL,kBAAe;gBACf,kBAAe;gBACf,iBAAc;gBACd,iBAAc;gBACd,cAAW;0BAEX,cAAA,6LAAC;oBAAK,WAAU;;;;;;;;;;;0BAIjB,6LAAC;gBAAI,WAAU;gBAA2B,IAAG;;kCAC5C,6LAAC;wBAAG,WAAU;kCACb,sBACA;;8CACA,6LAAC;oCAAG,WAAU;8CACb,cAAA,6LAAC,0KAAI;wCAAC,MAAK;wCAAa,WAAU;kDAAW;;;;;;;;;;;8CAI9C,6LAAC;oCAAG,WAAU;8CACb,cAAA,6LAAC,0KAAI;wCAAC,MAAK;wCAAY,WAAU;kDAAW;;;;;;;;;;;8CAI7C,6LAAC;oCAAG,WAAU;8CACb,cAAA,6LAAC,0KAAI;wCAAC,MAAK;wCAAY,WAAU;kDAAW;;;;;;;;;;;;;;;;;;kCAQ9C,6LAAC;wBAAG,WAAU;kCACb,qBACA,6LAAC;4BAAG,WAAU;;8CACd,6LAAC;oCACA,WAAU;oCACV,IAAG;oCACH,kBAAe;oCACf,iBAAc;8CAEb,KAAK,IAAI;;;;;;8CAEX,6LAAC;oCAAG,WAAU;oCAAkC,mBAAgB;;sDAC/D,6LAAC;sDACD,cAAA,6LAAC,0KAAI;gDAAC,WAAU;gDAAgB,MAAK;0DAAY;;;;;;;;;;;sDAIjD,6LAAC;sDACD,cAAA,6LAAC;gDAAO,WAAU;gDAA4B,SAAS;0DAAQ;;;;;;;;;;;;;;;;;;;;;;iDAOhE,6LAAC;4BAAG,WAAU;sCACd,cAAA,6LAAC,0KAAI;gCAAC,MAAK;gCAAS,WAAU;0CAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS5D;GA3FwB;;QACC,4IAAO;;;KADR","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///Users/iKlejdi/Desktop/construction/frontend/src/app/layout.tsx"],"sourcesContent":["'use client'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { AuthProvider } from '../context/AuthContext';\nimport Navbar from '../components/Navbar';\nimport { useEffect } from 'react';\n\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\nuseEffect(() => {\n\t// @ts-ignore\n\timport('bootstrap/dist/js/bootstrap.bundle.min.js');\n}, []);\n\nreturn (\n\t<html lang=\"en\">\n\t\t<body>\n\t\t\t<AuthProvider>\n\t\t\t\t<Navbar />\n\t\t\t\t<main>{children}</main>\n\t\t\t</AuthProvider>\n\t\t</body>\n\t</html>\n);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS,WAAW,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACnC,IAAA,0KAAS;gCAAC;YACT,aAAa;;QAEd;+BAAG,EAAE;IAEL,qBACC,6LAAC;QAAK,MAAK;kBACV,cAAA,6LAAC;sBACA,cAAA,6LAAC,iJAAY;;kCACZ,6LAAC,0IAAM;;;;;kCACP,6LAAC;kCAAM;;;;;;;;;;;;;;;;;;;;;;AAKX;GAhBwB;KAAA","debugId":null}}]
}